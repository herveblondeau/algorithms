using FluentAssertions;
using Microsoft.VisualStudio.TestTools.UnitTesting;

namespace Algorithms.AdventOfCode._2024;

[TestClass]
public class Day6GuardGallivantTests
{

    #region Part 1

    [TestMethod]
    public void CalculateNbPositionsBeforeExiting_Sample_PerformsCorrectly()
    {
        // Arrange
        Day6GuardGallivant day6GuardGallivant = new();
        string[] map = _getSampleMap();

        // Act
        var actual = day6GuardGallivant.CalculateNbPositionsBeforeExiting(map);

        // Assert
        actual.Should().Be(41);
    }

    [TestMethod]
    public void CalculateNbPositionsBeforeExiting_Test_PerformsCorrectly()
    {
        // Arrange
        Day6GuardGallivant day6GuardGallivant = new();
        string[] map = _getTestMap();

        // Act
        var actual = day6GuardGallivant.CalculateNbPositionsBeforeExiting(map);

        // Assert
        actual.Should().Be(5551);
    }

    #endregion

    #region Part 2

    #endregion

    private string[] _getSampleMap()
    {
        return
        [
            "....#.....",
            ".........#",
            "..........",
            "..#.......",
            ".......#..",
            "..........",
            ".#..^.....",
            "........#.",
            "#.........",
            "......#...",
        ];
    }

    private string[] _getTestMap()
    {
        return
        [
            "..#.....##......#............#..................................#.....#..............#................#.........................#.",
            "..........................................................................................................#..........#...#.......#",
            "..................#....................#.......................................#.....#....#............#.......#..................",
            "......#...#..##....................................................................#...#.......#..........#..#.....#..............",
            "..#..#.#.............#.#.........#.........##..................#..............#..........................#........................",
            "#..........#.................#..........#...............................#..#.................#.......##..##..#.#..................",
            "......................#......................................................#........................#......................#....",
            "........................#.#.....................................#..............................#.......#.............#.....#......",
            "#.................#...#......#..........#.......#.....#............................................#...........##.........#.....#.",
            "...........................................#.....#............##...............#..............................#...................",
            ".....#..............#......................................#..........#............#..................##...............#......###.",
            "..............#..#.....................................##................#............................#............#......#.......",
            "#........#...................................................#..........................................#.........................",
            ".................................................................................#................................#....#..#..#....",
            ".............................#.###.........#.#...............#..........................................##........................",
            "......................................................................................................................#.........#.",
            "...............#............#............#...#.........#............#.............................#.#........................#....",
            "........................#...............#...............#........#.........#................#....#.#....................#.........",
            "........#...............#...........................................................................................#.............",
            ".................#..........................................................#.....................................................",
            "........#.#.#...................#..#.......#...........#..#............#......#.....................#.....#.........#..#..........",
            "..#.......#..................................................................................................#......#.............",
            "................##...##......................#....................................................#..............................#",
            "............#......................................#...........................#.#...#...............#.....................##.....",
            "..........#...................#.....................#...........................................##................................",
            ".#.......................#...............................................................#........................................",
            "...................................................................#..#................#.....#....................#...............",
            "...........#...........................................................#..........................................................",
            ".....#....#..#..........................................................#..................#.....................##...............",
            "...#................................#.....#...................#...............##...........#..............#.......................",
            ".......##.....#.............#..#.......................................................................#......................#...",
            "......................................#....#.............................................#...#....................#...............",
            ".......#.......#...............#..#.....#..............................#.#......#...............#.................................",
            "......................#.......#.......#..........................................................#................#...........#...",
            "..............................#........................#.......#..#...............................#...............................",
            "...........................#..........#..##.......................#................#..............................................",
            "..............#............#...##........#.................................#................#....#........................#..#....",
            "..............#.........#............................................#.............#......#......#.#....#.........................",
            ".......................#.................................#..#..#..#..............................................#................",
            "........................###..#...............................................................#.........#................#......#..",
            "#........................................................................................#........................................",
            "........................................#..............................##.....#.........................#...........#.............",
            ".............#.........#...#................#..#..........#.....#...........................................................#.....",
            ".......................................#......#.............................#.........#................#..........................",
            "..........................................................#......................#...........#...#.......#........................",
            "#.....................................#.#...#.............................................................#...........#........#..",
            "............................#..................................................................................#............#.....",
            "#.................#.................................................................#..............#...................#..........",
            "........#...................................................................#...............................................#.....",
            ".................#...#..................#.............................................................#.......#...................",
            "...#.....#.................................................................................................#..........#...........",
            "..........#...................................#....#................#......#........................................#.......#.....",
            ".....................................#...............#................................................................#...........",
            ".#............#................................................................#.............................................#....",
            "...........#.........#.....................#...........#^.......................#.....................#..........#................",
            ".....#........#.................................................................................................#.......#.........",
            "..........#..........................#.......#......................#..............................#....#......................#..",
            "...#.........................#.................#....#........#....................................................................",
            "...............#...#........................................#................................#....#........................#.#....",
            "...........#.......................................#......#....#.......................................................#.......#..",
            "#.........#...............#..#..#..........#..............#...........................#...........#.....................#.........",
            "...................#.......................................................#......................................................",
            ".............#..............................................#.......................................#.........#...........#......#",
            "....#......#...#.................................#.....#......#.................................#.................................",
            "...............#...............#......................................................................#...........................",
            ".......................#.........................................................................................................#",
            ".............................#............................................................................#.......................",
            "...................#..#.........#...........................#......#...............#......#.......................................",
            "...#....................................#...................#..#...........................#............#...............#........#",
            "...................#................................................................#............##...............................",
            "........................#.#...................#.....................................................................#...#.........",
            "...................#......#.......#.#......................................................#...............#......................",
            "....#...........................#................#.............................#..#....................#........##.....#..........",
            ".........................#......................................................#.#......................................#........",
            ".........#.............#.................#........................................................................................",
            ".#.#.......#..#....#.......#...#..#......................................................................#.#......................",
            "..#.................#............................................................................#................................",
            ".#................................#...............................................................................................",
            "..........#............#..............................................#...#...............##...............#..................#...",
            "................................#.........................#.......................................................................",
            "........................................................##.......#........................#.....................#.................",
            "......#......................................................#......#.........#........................................#.......#..",
            "...........................................................#............#....#......#.............................................",
            "..................................#...................................................#.................................#...#.....",
            ".......#...#..........#............#.......#........................................#..#.................#........................",
            "....................#........................................#........#...........................................................",
            ".................................##..#............#.................................#.............#..................#....#.......",
            ".#.................#..........#.....#...........#.......................................................#...................#.....",
            "........................#.........................................................................................................",
            "...#..........................................#...........................#.................................#.....................",
            "............#......................................................#.................................#.........#..............#...",
            ".............#........##.........#..................#...#.............#......#....##................#................#............",
            "..................#...........................................................................................#.................#.",
            ".....................#..#..#....................#........................#.........#................................#.............",
            "..............................................#...................#............................#..............................#...",
            ".......................#.#...................................#.............................#...................................#..",
            "................................#...........#.............................#.............#.........#..............................#",
            "...........................#................................#...................................................#.....#...........",
            "..........#..........#.....#..........#..#............#..........#.................#.......#.......#........................#....#",
            "...#.......#...#..............................................................................................#......#......#.....",
            "...........#......................#..#.................#......#.........#.....#.............#............##................#....#.",
            ".......#...........................................#..................#...............#.............................#.............",
            "....#.......#.................................#..................................................................#................",
            "..#..................................#...#............................#.........#....#..........#............................#....",
            "....................................................#.................#...........................................#...............",
            "............#......................................#.........#..................#.....#.#.#.#..#..................................",
            "#..............#.......#...#.#..............#.....#.#.............................................................................",
            "...........#.#.................................#...#........................................#................#.........#....#.....",
            "......#.........................................#.........................#...........................................#...........",
            "...#......#.................................#......#............................................................................#.",
            "...#.................#....##................#...........................................#.........#....#..........................",
            "...........#...#...#..................#...................................#......................................#......#.....#.#.",
            "...................................#....................#................#..................................................#.....",
            "................#.....................................#...........#......#........................................................",
            "..............................#......#..#..............................................##........#......#......................#.#",
            "#...........................#....#....##.....#...........................##..#...................#.....#........#.................",
            "..........#....#.#..................#..........#..#................#.................#..................................##.......#",
            "...................#.....................#......#...........................................................#..........#..........",
            "........#.....#.............................#..............................................#......................................",
            "......#............#.#.................................................................................................#..#.......",
            ".#.........#..................................................................................#....#...........#.................#",
            "........#.....#.......................#.........................................#...........................................#.....",
            "...................#.......#..#......#.................##......................................#...................#..............",
            ".............................#.................................#........#.......#..................................#.........#....",
            "....#....#..........#....###..#...................................................#...#................................#.......#..",
            "...................#...................................................#.......#....#........................#....................",
            "...#................#...........#.......................#.....................................#...#......#......#.................",
            ".......#........................#.........#.............................................................#...#...#.................",
            "....................#.........#..............................#..........................#....................#..#.................",
            "..#..........................#.#...................................#..................#..........#................#...............",
        ];
    }
}
